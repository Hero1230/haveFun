{"version":3,"file":"static/js/331.fd81557b.chunk.js","mappings":"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","sources":["hooks/games/useGame.js","hooks/games/useCalculateMultiplier.js","hooks/money/useMoney.js","webpack://have-fun/./src/pages/home/game-card/GameCard.module.scss?9ca4","pages/home/game-card/GameCard.js","webpack://have-fun/./src/pages/home/games-list/GamesCategoryList.module.scss?7885","pages/home/games-list/GamesList.js","pages/home/games/scratch-card/scratch-card-list/ScratchCardList.js"],"sourcesContent":["import { useCallback } from \"react\";\nimport { ACTIONS } from \"../../actions/game/Actions\";\nimport { useUserDataContext } from \"../data/useUserDataContext\";\nimport { useMoney } from \"../money/useMoney\";\nimport { useCalculateMultiplier } from \"./useCalculateMultiplier\";\nimport { useCurrentGameContex } from \"./useCurrentGameContex\";\n\nexport const useGame = () => {\n\tconst { setIsAllowedToPlay } = useUserDataContext();\n\tconst { document } = useUserDataContext();\n\tconst { subtractMoney } = useMoney();\n\tconst { calculateMultiplier, getArryWithAmountOfItems } =\n\t\tuseCalculateMultiplier();\n\tconst { dispatchGame, price } = useCurrentGameContex();\n\n\tconst startGame = (amount) => {\n\t\tif (document.balance >= amount) {\n\t\t\tsubtractMoney(amount);\n\t\t\tsetIsAllowedToPlay(true);\n\t\t\tdispatchGame({\n\t\t\t\ttype: ACTIONS.SET_PRICE,\n\t\t\t\tpayload: {\n\t\t\t\t\tprice: amount,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t};\n\n\tconst endGame = useCallback(() => {\n\t\tsetIsAllowedToPlay(false);\n\t}, [setIsAllowedToPlay]);\n\n\tconst gameResult = useCallback(\n\t\t(items) => {\n\t\t\tconst arrayWithAmoutOfItems = getArryWithAmountOfItems(items);\n\t\t\tconst multiplier = calculateMultiplier(arrayWithAmoutOfItems);\n\t\t\tdispatchGame({\n\t\t\t\ttype: ACTIONS.UPDATE_GAME,\n\t\t\t\tpayload: {\n\t\t\t\t\tprice,\n\t\t\t\t\tmultiplier,\n\t\t\t\t\twin: price * multiplier,\n\t\t\t\t\tgameItems: arrayWithAmoutOfItems,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[getArryWithAmountOfItems, calculateMultiplier, dispatchGame, price]\n\t);\n\treturn { startGame, endGame, gameResult };\n};\n","import { useCallback } from \"react\";\n\nexport const useCalculateMultiplier = () => {\n\tconst getArryWithAmountOfItems = useCallback((items) => {\n\t\t// getting array of all random game items\n\t\tconst arrayOfSingleItems = [...new Set(items.map((item) => item.name))];\n\n\t\tconst countArray = arrayOfSingleItems.map((item) => {\n\t\t\tlet multiplier;\n\n\t\t\titems.forEach((itemToCheck) => {\n\t\t\t\tif (itemToCheck.name === item) {\n\t\t\t\t\tmultiplier = itemToCheck.multiplier;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// making new object of single item\n\t\t\treturn { name: item, count: 0, multiplier };\n\t\t});\n\n\t\t// getting right amount of same items in game\n\t\titems.forEach((item) => {\n\t\t\tfor (let i = 0; i < countArray.length; i++) {\n\t\t\t\tif (item.name === countArray[i].name) {\n\t\t\t\t\tcountArray[i].count++;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn countArray;\n\t}, []);\n\n\t// getting total multiplier from game\n\tconst calculateMultiplier = useCallback((arryWithAmountOfItems) => {\n\t\tlet multiplier = 0;\n\n\t\tarryWithAmountOfItems.forEach((item) => {\n\t\t\tif (!item.multiplier) return;\n\n\t\t\t//check amount of items\n\t\t\tswitch (item.count.toString()) {\n\t\t\t\tcase \"0\":\n\t\t\t\t\treturn;\n\t\t\t\tcase \"1\":\n\t\t\t\t\tmultiplier += item.multiplier[0];\n\t\t\t\t\treturn;\n\t\t\t\tcase \"2\":\n\t\t\t\t\tmultiplier += item.multiplier[1];\n\t\t\t\t\treturn;\n\t\t\t\tcase \"3\":\n\t\t\t\t\tmultiplier += item.multiplier[2];\n\t\t\t\t\treturn;\n\t\t\t\tcase \"4\":\n\t\t\t\t\tmultiplier += item.multiplier[3];\n\t\t\t\t\treturn;\n\t\t\t\tdefault:\n\t\t\t\t\tmultiplier += item.multiplier[3];\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\t\treturn multiplier;\n\t}, []);\n\treturn {\n\t\tcalculateMultiplier,\n\t\tgetArryWithAmountOfItems,\n\t};\n};\n","import { useUpdateDocument } from \"../data/useUpdateDocument\";\nimport { useUserDataContext } from \"../data/useUserDataContext\";\n\nexport const useMoney = () => {\n\tconst { document } = useUserDataContext();\n\tconst { updateDocument } = useUpdateDocument();\n\tconst addMoney = async (value) => {\n\t\tawait updateDocument(\"users\", document.id, {\n\t\t\tbalance: (document.balance + value) * 1000,\n\t\t});\n\t};\n\tconst subtractMoney = async (value) => {\n\t\tawait updateDocument(\"users\", document.id, {\n\t\t\tbalance: (document.balance - value) * 1000,\n\t\t});\n\t};\n\n\treturn { addMoney, subtractMoney };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"game-card\":\"GameCard_game-card__8WVqq\",\"link\":\"GameCard_link__p5EN-\"};","import { Link } from \"react-router-dom\";\nimport { ACTIONS } from \"../../../actions/notification/Actions\";\nimport { useUserDataContext } from \"../../../hooks/data/useUserDataContext\";\nimport { useNotificationContext } from \"../../../hooks/notification/useNotificationContext\";\nimport styles from \"./GameCard.module.scss\";\n\nconst GameCard = ({ game, action }) => {\n\tconst { document } = useUserDataContext();\n\tconst { dispatchNotification } = useNotificationContext();\n\tconst balanceFallback = () => {\n\t\tdispatchNotification({\n\t\t\ttype: ACTIONS.ERROR,\n\t\t\tpayload: \"You don't have enough money to play this game!\",\n\t\t});\n\t};\n\treturn (\n\t\t<div\n\t\t\tclassName={styles[\"game-card\"]}\n\t\t\tonClick={\n\t\t\t\tgame.price && game.price > document.balance\n\t\t\t\t\t? balanceFallback\n\t\t\t\t\t: undefined\n\t\t\t}>\n\t\t\t{game.price <= document.balance || !game.price ? (\n\t\t\t\t<Link\n\t\t\t\t\tto={game.isReady ? game.ref : \"\"}\n\t\t\t\t\tclassName={styles[\"link\"]}\n\t\t\t\t\tonClick={action}></Link>\n\t\t\t) : (\n\t\t\t\t\"\"\n\t\t\t)}\n\t\t\t<img src={game.photoURL} alt=\"game icon\" />\n\t\t\t<p>{game.title}</p>\n\t\t</div>\n\t);\n};\n\nexport default GameCard;\n","// extracted by mini-css-extract-plugin\nexport default {\"games-list\":\"GamesCategoryList_games-list__YtwMj\",\"game-list\":\"GamesCategoryList_game-list__uYgeg\"};","import { useGame } from \"../../../hooks/games/useGame\";\nimport GameCard from \"../game-card/GameCard\";\n\nimport styles from \"./GamesCategoryList.module.scss\";\n\nconst GamesList = ({ games }) => {\n\tconst { startGame } = useGame();\n\n\treturn (\n\t\t<div className={styles[\"games-list\"]}>\n\t\t\t{games.map((game) => (\n\t\t\t\t<GameCard\n\t\t\t\t\tgame={game}\n\t\t\t\t\tkey={Math.random()}\n\t\t\t\t\taction={game.price && (() => startGame(game.price))}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\nexport default GamesList;\n","import DiamondIcon from \"../../../../../games-data/scratch-card/assets/game-one/diamond.svg\";\nimport CherryIcon from \"../../../../../games-data/scratch-card/assets/game-two/cherry.svg\";\nimport StratocasterIcon from \"../../../../../games-data/scratch-card/assets/game-three/stratocaster.svg\";\nimport GamesList from \"../../../games-list/GamesList\";\n\nconst ScratchCardList = () => {\n\tconst scratchGames = [\n\t\t{\n\t\t\ttitle: \"Scratch card 20$\",\n\t\t\tphotoURL: DiamondIcon,\n\t\t\tref: \"/scratch-card-20\",\n\t\t\tisReady: true,\n\t\t\tprice: 20,\n\t\t},\n\t\t{\n\t\t\ttitle: \"Scratch card 50$\",\n\t\t\tphotoURL: CherryIcon,\n\t\t\tref: \"/scratch-card-50\",\n\t\t\tisReady: true,\n\t\t\tprice: 50,\n\t\t},\n\t\t{\n\t\t\ttitle: \"Scratch card 100$\",\n\t\t\tphotoURL: StratocasterIcon,\n\t\t\tref: \"/scratch-card-100\",\n\t\t\tisReady: true,\n\t\t\tprice: 100,\n\t\t},\n\t];\n\treturn <GamesList games={scratchGames} />;\n};\n\nexport default ScratchCardList;\n"],"names":["useGame","setIsAllowedToPlay","useUserDataContext","document","subtractMoney","useMoney","getArryWithAmountOfItems","useCallback","items","countArray","Set","map","item","name","multiplier","forEach","itemToCheck","count","i","length","calculateMultiplier","arryWithAmountOfItems","toString","useCalculateMultiplier","useCurrentGameContex","dispatchGame","price","startGame","amount","balance","type","ACTIONS","payload","endGame","gameResult","arrayWithAmoutOfItems","win","gameItems","updateDocument","useUpdateDocument","addMoney","value","id","game","action","dispatchNotification","useNotificationContext","className","styles","onClick","undefined","to","isReady","ref","src","photoURL","alt","title","games","Math","random","scratchGames","DiamondIcon","CherryIcon","StratocasterIcon"],"sourceRoot":""}
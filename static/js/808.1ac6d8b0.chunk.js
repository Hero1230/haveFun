"use strict";(self.webpackChunkhave_fun=self.webpackChunkhave_fun||[]).push([[808],{5808:function(n,a,e){e.r(a),e.d(a,{default:function(){return Z}});var t,r=e(4165),o=e(5861),c=e(885),s=e(9062),d=e(2791),i=e(6871),u=e(7257),l=e(686),p=e(9808),f=e(8619),m=e(1413),b=e(2982),h="AddTransaction_add-money-container__e1pYu",y="AddTransaction_add-btn__YZEbs",x="AddTransaction_add-money-card__v9szL",v="AddTransaction_add-money-content__BB6qO",_="AddTransaction_balance__daKwE",j="AddTransaction_amount__WzWNZ",k="AddTransaction_input-field__aSpbt",N="AddTransaction_add-money-buttons__Jiuat",R={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},g=new Uint8Array(16);function C(){if(!t&&!(t="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(g)}for(var U=[],w=0;w<256;++w)U.push((w+256).toString(16).slice(1));function A(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(U[n[a+0]]+U[n[a+1]]+U[n[a+2]]+U[n[a+3]]+"-"+U[n[a+4]]+U[n[a+5]]+"-"+U[n[a+6]]+U[n[a+7]]+"-"+U[n[a+8]]+U[n[a+9]]+"-"+U[n[a+10]]+U[n[a+11]]+U[n[a+12]]+U[n[a+13]]+U[n[a+14]]+U[n[a+15]]).toLowerCase()}var T=function(n,a,e){if(R.randomUUID&&!a&&!n)return R.randomUUID();var t=(n=n||{}).random||(n.rng||C)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,a){e=e||0;for(var r=0;r<16;++r)a[e+r]=t[r];return a}return A(t)},D=e(184),Z=function(){var n=(0,p.T)().document,a=(0,d.useState)(0),e=(0,c.Z)(a,2),t=e[0],R=e[1],g=(0,f.n)().dispatchNotification,C=(0,l.L)(),U=C.updateDocument,w=C.isPending,A=C.error,Z=(0,i.s0)(),E=function(){var n=(0,l.L)().updateDocument,a=(0,p.T)().document,e=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=3;break}return e.next=3,n("users",a.id,{transactions:[].concat((0,b.Z)(a.transactions),[(0,m.Z)({},t)])});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{addTransaction:e}}(),S=E.addTransaction,$=function(){var a=(0,o.Z)((0,r.Z)().mark((function a(e){return(0,r.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.preventDefault(),!(t<20)){a.next=4;break}return g({type:u.a.ERROR,payload:"Amount is too small to add!"}),a.abrupt("return");case 4:if(!n){a.next=20;break}if(!(n.balance>1e4)){a.next=8;break}return g({type:u.a.ERROR,payload:"Your balance is too high!"}),a.abrupt("return");case 8:if(!(t>1e4)){a.next=11;break}return g({type:u.a.ERROR,payload:"Cannot add more than 10000$!"}),a.abrupt("return");case 11:return a.next=13,U("users",n.id,{balance:1e3*n.balance+Math.round(100*t)/100*1e3});case 13:return a.next=15,S({type:"add",amount:t,balance:n.balance+Math.round(100*t)/100*1e3,title:"Money deposit",createdAt:s.EK.fromDate(new Date),id:T()});case 15:if(!A){a.next=18;break}return g({type:u.a.ERROR,payload:"Couldn't add money, please try later!"}),a.abrupt("return");case 18:Z("/transactions"),g({type:u.a.SUCCESS,payload:"Money has been successfully added!"});case 20:case"end":return a.stop()}}),a)})));return function(n){return a.apply(this,arguments)}}();return(0,D.jsxs)("div",{className:h,children:[(0,D.jsxs)("div",{className:x,children:[(0,D.jsxs)("div",{className:v,children:[(0,D.jsxs)("div",{className:_,children:[(0,D.jsx)("span",{children:"USD"}),(0,D.jsxs)("p",{className:j,children:["Balance: ",n&&n.balance,"$"]})]}),(0,D.jsxs)("div",{className:k,children:[(0,D.jsx)("input",{max:"10000",type:"number",placeholder:"0",value:t,onChange:function(n){return R(n.target.value)}}),(0,D.jsx)("p",{children:"Minimal amout 20$"})]})]}),(0,D.jsxs)("div",{className:N,children:[(0,D.jsx)("button",{className:"btn",onClick:function(){R(50)},children:"50 $"}),(0,D.jsx)("button",{className:"btn",onClick:function(){R(100)},children:"100 $"}),(0,D.jsx)("button",{className:"btn",onClick:function(){R(250)},children:"250 $"}),(0,D.jsx)("button",{className:"btn",onClick:function(){R(500)},children:"500 $"})]})]}),!w&&(0,D.jsx)("button",{className:"".concat(y," btn"),onClick:$,children:"Add money"}),w&&(0,D.jsx)("button",{className:"".concat(y," btn"),disabled:!0,children:"Loading..."})]})}}}]);
//# sourceMappingURL=808.1ac6d8b0.chunk.js.map
{"version":3,"file":"static/js/677.c4464279.chunk.js","mappings":"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","sources":["assets/arrow.svg","webpack://have-fun/./src/games/scratchCard/ScratchCardGame.module.scss?316d","components/canvas/Canvas.js","webpack://have-fun/./src/games/scratchCard/scratch-field/ScratchCardField.module.scss?1a9f","games/scratchCard/scratch-field/ScratchCardField.js","webpack://have-fun/./src/games/scratchCard/scratchCardTemplate/ScratCardTemplate.module.scss?0fd1","games/scratchCard/scratchCardTemplate/ScratchCardTemplate.js","hooks/random/useRandom.js","webpack://have-fun/./src/games/scratchCard/scratch-item-list/ScratchItemsList.module.scss?b7da","games/scratchCard/scratch-item-list/ScratchItemsList.js","games/scratchCard/ScratchCardGame.js","hooks/games/useUpdateUserStats.js","hooks/games/useGame.js","hooks/games/useCalculateMultiplier.js","hooks/money/useMoney.js"],"sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 15a1 1 0 0 0 1 1h19.586l-4.292 4.292a1 1 0 0 0 1.414 1.414l6-6a.99.99 0 0 0 .292-.702V15c0-.13-.026-.26-.078-.382a.99.99 0 0 0-.216-.324l-6-6a1 1 0 0 0-1.414 1.414L24.586 14H5a1 1 0 0 0-1 1z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrow);\nexport default __webpack_public_path__ + \"static/media/arrow.a49005640f757d0ec96a932c26c5d63c.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"games-container\":\"ScratchCardGame_games-container__iOPz6\",\"mobile-fallback\":\"ScratchCardGame_mobile-fallback__5EuJJ\"};","import { useEffect, useRef } from \"react\";\n\nconst Canvas = ({ options, isCanvasEmpty }) => {\n\tconst canvasRef = useRef(null);\n\n\tconst mouse = {\n\t\tx: null,\n\t\ty: null,\n\t};\n\n\tlet totalFilled = 0;\n\tlet mousedownEvent;\n\tlet mouseupEvent;\n\tlet mousemoveEvent;\n\n\tconst init = () => {\n\t\tconst ctx = canvasRef.current.getContext(\"2d\");\n\t\tlet isTouching = false;\n\n\t\tconst rectLeft = canvasRef.current.getBoundingClientRect().left;\n\t\tconst rectTop = canvasRef.current.getBoundingClientRect().top;\n\n\t\tctx.fillStyle = options.tilesColor;\n\t\tctx.fillRect(0, 0, 200, 200);\n\n\t\tconst scratch = () => {\n\t\t\tctx.globalCompositeOperation = \"destination-out\";\n\t\t\tctx.beginPath();\n\t\t\tctx.arc(mouse.x, mouse.y, 15, 0, 2 * Math.PI);\n\t\t\tctx.fill();\n\t\t};\n\n\t\tmousedownEvent = canvasRef.current.addEventListener(\n\t\t\t\"mousedown\",\n\t\t\t(event) => {\n\t\t\t\tmouse.x = event.clientX - rectLeft;\n\t\t\t\tmouse.y = event.clientY - rectTop;\n\t\t\t\tscratch();\n\t\t\t\tisTouching = true;\n\t\t\t}\n\t\t);\n\n\t\tmouseupEvent = canvasRef.current.addEventListener(\"mouseup\", (event) => {\n\t\t\tisTouching = false;\n\t\t});\n\n\t\tmousemoveEvent = canvasRef.current.addEventListener(\n\t\t\t\"mousemove\",\n\t\t\t(event) => {\n\t\t\t\tmouse.x = event.clientX - rectLeft;\n\t\t\t\tmouse.y = event.clientY - rectTop;\n\t\t\t\tif (isTouching) {\n\t\t\t\t\ttotalFilled += 1;\n\t\t\t\t\tscratch();\n\t\t\t\t}\n\t\t\t\tif (totalFilled > 100) {\n\t\t\t\t\tctx.clearRect(0, 0, 200, 200);\n\t\t\t\t\tif (totalFilled < 102) {\n\t\t\t\t\t\tisCanvasEmpty(canvasRef.current);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n\n\tuseEffect(() => {\n\t\tcanvasRef.current.removeEventListener(\"mousedown\", mousedownEvent);\n\t\tcanvasRef.current.removeEventListener(\"mouseup\", mouseupEvent);\n\t\tcanvasRef.current.removeEventListener(\"mousemove\", mousemoveEvent);\n\n\t\tif (canvasRef) {\n\t\t\tinit();\n\t\t}\n\t});\n\n\treturn (\n\t\t<canvas\n\t\t\twidth={100}\n\t\t\theight={100}\n\t\t\tstyle={{\n\t\t\t\tborder: \"1px solid black\",\n\t\t\t\tposition: \"absolute\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"100%\",\n\t\t\t\tborderRadius: \"10px\",\n\t\t\t}}\n\t\t\tref={canvasRef}\n\t\t/>\n\t);\n};\n\nexport default Canvas;\n","// extracted by mini-css-extract-plugin\nexport default {\"scratch-card\":\"ScratchCardField_scratch-card__FAD6a\"};","import Canvas from \"../../../components/canvas/Canvas\";\nimport styles from \"./ScratchCardField.module.scss\";\n\nconst ScratCardField = ({ Image, options, isCanvasEmpty }) => {\n\treturn (\n\t\t<div className={styles[\"scratch-card\"]}>\n\t\t\t<Canvas options={options} isCanvasEmpty={isCanvasEmpty} />\n\t\t\t<Image style={{ padding: \"2rem\" }} />\n\t\t</div>\n\t);\n};\n\nexport default ScratCardField;\n","// extracted by mini-css-extract-plugin\nexport default {\"game-container\":\"ScratCardTemplate_game-container__GFIUc\",\"scratch-header\":\"ScratCardTemplate_scratch-header__X7-6S\",\"scratch-card-container\":\"ScratCardTemplate_scratch-card-container__ypEu-\"};","import { useCallback, useEffect, useState } from \"react\";\nimport { ACTIONS } from \"../../../actions/game/Actions\";\nimport { useCurrentGameContex } from \"../../../hooks/games/useCurrentGameContex\";\nimport { useGame } from \"../../../hooks/games/useGame\";\nimport { useRandom } from \"../../../hooks/random/useRandom\";\nimport ScratCardField from \"../scratch-field/ScratchCardField\";\nimport styles from \"./ScratCardTemplate.module.scss\";\n\nconst ScratchCardTemplate = ({ items, length, options }) => {\n\tconst [gameItems, setGameItems] = useState(null);\n\tconst { generateRandomArray } = useRandom(items, length);\n\tconst { gameResult } = useGame();\n\tconst { dispatchGame } = useCurrentGameContex();\n\tlet emptyCanvasNumber = 0;\n\n\tuseEffect(() => {\n\t\tsetGameItems(generateRandomArray());\n\t}, [generateRandomArray]);\n\n\tuseEffect(() => {\n\t\tif (gameItems) {\n\t\t\tgameResult(gameItems);\n\t\t}\n\t}, [gameItems, gameResult]);\n\n\tconst isCanvasEmpty = useCallback(\n\t\t(canvas) => {\n\t\t\tconst blankCanvas = document.createElement(\"canvas\");\n\t\t\tblankCanvas.width = canvas.width;\n\t\t\tblankCanvas.height = canvas.height;\n\t\t\tif (canvas.toDataURL() === blankCanvas.toDataURL()) {\n\t\t\t\temptyCanvasNumber++;\n\t\t\t}\n\t\t\tif (emptyCanvasNumber === length) {\n\t\t\t\tdispatchGame({ type: ACTIONS.SET_SHOW_RESULT, payload: true });\n\t\t\t}\n\t\t\treturn canvas.toDataURL() === blankCanvas.toDataURL();\n\t\t},\n\t\t[emptyCanvasNumber, length, dispatchGame]\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={styles[\"game-container\"]}\n\t\t\tstyle={{ background: options.backGroundColor }}>\n\t\t\t<div\n\t\t\t\tclassName={styles[\"scratch-header\"]}\n\t\t\t\tstyle={{ borderColor: options.borderColor }}>\n\t\t\t\t<p style={{ color: options.titleColor }}>{options.title}</p>\n\t\t\t</div>\n\t\t\t<div className={styles[\"scratch-card-container\"]}>\n\t\t\t\t{gameItems &&\n\t\t\t\t\tgameItems.map((item) => (\n\t\t\t\t\t\t<ScratCardField\n\t\t\t\t\t\t\tImage={item.image}\n\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t\tkey={Math.random()}\n\t\t\t\t\t\t\tisCanvasEmpty={isCanvasEmpty}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ScratchCardTemplate;\n","import { useCallback } from \"react\";\n\nexport const useRandom = (array, length) => {\n\tconst generateRandomArray = useCallback(() => {\n\t\tif (!array) return;\n\t\tif (array.length === 0) return;\n\n\t\tconst randomArray = [];\n\n\t\tfor (let i = 0; i < length; ) {\n\t\t\tarray.forEach((element) => {\n\t\t\t\tif (randomArray.length < length) {\n\t\t\t\t\tconst randomNumber = Math.random() * 100;\n\n\t\t\t\t\tif (randomNumber < element.chances) {\n\t\t\t\t\t\trandomArray.push(element);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\ti++;\n\t\t\tif (randomArray.length !== length && i === length) {\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\treturn randomArray;\n\t}, [array, length]);\n\treturn { generateRandomArray };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"items-list\":\"ScratchItemsList_items-list__9eSGO\",\"item-values\":\"ScratchItemsList_item-values__OwSqR\",\"item-info\":\"ScratchItemsList_item-info__fcaon\",\"rotate\":\"ScratchItemsList_rotate__MvMGr\",\"button\":\"ScratchItemsList_button__pSPJY\"};","import { useState } from \"react\";\nimport styles from \"./ScratchItemsList.module.scss\";\nimport { ReactComponent as ArrowIcon } from \"../../../assets/arrow.svg\";\n\nconst ScratchItemsList = ({ items }) => {\n\tconst [showBar, setShowBar] = useState(true);\n\treturn (\n\t\t<div className={styles.container}>\n\t\t\t<button\n\t\t\t\tonClick={() => setShowBar(!showBar)}\n\t\t\t\tclassName={`${!showBar ? styles.rotate : \"\"} ${styles[\"button\"]}`}\n\t\t\t\tstyle={{ right: !showBar ? 0 : \"17%\" }}>\n\t\t\t\t<ArrowIcon />\n\t\t\t</button>\n\t\t\t<div\n\t\t\t\tclassName={styles[\"items-list\"]}\n\t\t\t\tstyle={{ right: !showBar ? \"-100%\" : 0 }}>\n\t\t\t\t{items.map((item) => {\n\t\t\t\t\tif (!item.multiplier) return null;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className={styles[\"item-values\"]} key={Math.random()}>\n\t\t\t\t\t\t\t<div className={styles[\"item-info\"]}>\n\t\t\t\t\t\t\t\t<item.image style={{ width: \"4rem\", padding: \"0.1rem\" }} />\n\t\t\t\t\t\t\t\t<item.image style={{ width: \"4rem\", padding: \"0.1rem\" }} />\n\t\t\t\t\t\t\t\t<item.image style={{ width: \"4rem\", padding: \"0.1rem\" }} />\n\t\t\t\t\t\t\t\t<item.image style={{ width: \"4rem\", padding: \"0.1rem\" }} />\n\t\t\t\t\t\t\t\t<p>x{item.multiplier[3]}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={styles[\"item-info\"]}>\n\t\t\t\t\t\t\t\t<item.image style={{ width: \"2.5rem\", padding: \"0.1rem\" }} />\n\t\t\t\t\t\t\t\t<item.image style={{ width: \"2.5rem\", padding: \"0.1rem\" }} />\n\t\t\t\t\t\t\t\t<item.image style={{ width: \"2.5rem\", padding: \"0.1rem\" }} />\n\t\t\t\t\t\t\t\t<p>x{item.multiplier[2]}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ScratchItemsList;\n","import styles from \"./ScratchCardGame.module.scss\";\nimport ScratchCardTemplate from \"./scratchCardTemplate/ScratchCardTemplate\";\nimport ScratchItemsList from \"./scratch-item-list/ScratchItemsList\";\nimport { useEffect, useState } from \"react\";\nimport { useGame } from \"../../hooks/games/useGame\";\nimport { useCurrentGameContex } from \"../../hooks/games/useCurrentGameContex\";\nimport { useMoney } from \"../../hooks/money/useMoney\";\nimport { ACTIONS } from \"../../actions/game/Actions\";\nimport { useUpdateUserStats } from \"../../hooks/games/useUpdateUserStats\";\n\nconst ScratchCardGame = ({ items, length, options }) => {\n\tconst { endGame } = useGame();\n\tconst { statistics } = useCurrentGameContex();\n\tconst { addMoney } = useMoney();\n\tconst { dispatchGame } = useCurrentGameContex();\n\tconst [windowWidth] = useState(window.innerWidth);\n\tconst { updateUserStats } = useUpdateUserStats();\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tendGame();\n\t\t};\n\t}, [endGame]);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (windowWidth <= 600) {\n\t\t\t\taddMoney(Math.round(statistics.bet));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (statistics.win > 0) {\n\t\t\t\taddMoney(Math.round(statistics.win));\n\t\t\t\tupdateUserStats(1);\n\t\t\t\tdispatchGame({ type: ACTIONS.CLEAR_GAME });\n\t\t\t} else {\n\t\t\t\tupdateUserStats(0);\n\t\t\t}\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [statistics.win, dispatchGame]);\n\n\tif (windowWidth <= 600) {\n\t\treturn (\n\t\t\t<div className={styles[\"mobile-fallback\"]}>\n\t\t\t\t<p>To play on mobile please download our app!</p>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className={styles[\"games-container\"]}>\n\t\t\t<ScratchCardTemplate items={items} length={length} options={options} />\n\t\t\t<ScratchItemsList items={items} />\n\t\t</div>\n\t);\n};\n\nexport default ScratchCardGame;\n","import { useUpdateDocument } from \"../data/useUpdateDocument\";\nimport { useUserDataContext } from \"../data/useUserDataContext\";\n\nexport const useUpdateUserStats = () => {\n\tconst { updateDocument } = useUpdateDocument();\n\tconst { document } = useUserDataContext();\n\n\tconst updateUserStats = async (isWin) => {\n\t\tawait updateDocument(\"users\", document.id, {\n\t\t\tstats: {\n\t\t\t\ttotalPlayed: document.stats.totalPlayed + 1,\n\t\t\t\ttotalWon: document.stats.totalWon + isWin,\n\t\t\t},\n\t\t});\n\t};\n\n\treturn { updateUserStats };\n};\n","import { useCallback } from \"react\";\nimport { ACTIONS } from \"../../actions/game/Actions\";\nimport { useUserDataContext } from \"../data/useUserDataContext\";\nimport { useMoney } from \"../money/useMoney\";\nimport { useCalculateMultiplier } from \"./useCalculateMultiplier\";\nimport { useCurrentGameContex } from \"./useCurrentGameContex\";\n\nexport const useGame = () => {\n\tconst { setIsAllowedToPlay } = useUserDataContext();\n\tconst { document } = useUserDataContext();\n\tconst { subtractMoney } = useMoney();\n\tconst { calculateMultiplier, getArryWithAmountOfItems } =\n\t\tuseCalculateMultiplier();\n\tconst { dispatchGame, price } = useCurrentGameContex();\n\n\tconst startGame = (amount) => {\n\t\tif (document.balance >= amount) {\n\t\t\tsubtractMoney(amount);\n\t\t\tsetIsAllowedToPlay(true);\n\t\t\tdispatchGame({\n\t\t\t\ttype: ACTIONS.SET_PRICE,\n\t\t\t\tpayload: {\n\t\t\t\t\tprice: amount,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t};\n\n\tconst endGame = useCallback(() => {\n\t\tsetIsAllowedToPlay(false);\n\t}, [setIsAllowedToPlay]);\n\n\tconst gameResult = useCallback(\n\t\t(items) => {\n\t\t\tconst arrayWithAmoutOfItems = getArryWithAmountOfItems(items);\n\t\t\tconst multiplier = calculateMultiplier(arrayWithAmoutOfItems);\n\t\t\tdispatchGame({\n\t\t\t\ttype: ACTIONS.UPDATE_GAME,\n\t\t\t\tpayload: {\n\t\t\t\t\tprice,\n\t\t\t\t\tmultiplier,\n\t\t\t\t\twin: price * multiplier,\n\t\t\t\t\tgameItems: arrayWithAmoutOfItems,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[getArryWithAmountOfItems, calculateMultiplier, dispatchGame, price]\n\t);\n\treturn { startGame, endGame, gameResult };\n};\n","import { useCallback } from \"react\";\n\nexport const useCalculateMultiplier = () => {\n\tconst getArryWithAmountOfItems = useCallback((items) => {\n\t\t// getting array of all random game items\n\t\tconst arrayOfSingleItems = [...new Set(items.map((item) => item.name))];\n\n\t\tconst countArray = arrayOfSingleItems.map((item) => {\n\t\t\tlet multiplier;\n\n\t\t\titems.forEach((itemToCheck) => {\n\t\t\t\tif (itemToCheck.name === item) {\n\t\t\t\t\tmultiplier = itemToCheck.multiplier;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// making new object of single item\n\t\t\treturn { name: item, count: 0, multiplier };\n\t\t});\n\n\t\t// getting right amount of same items in game\n\t\titems.forEach((item) => {\n\t\t\tfor (let i = 0; i < countArray.length; i++) {\n\t\t\t\tif (item.name === countArray[i].name) {\n\t\t\t\t\tcountArray[i].count++;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn countArray;\n\t}, []);\n\n\t// getting total multiplier from game\n\tconst calculateMultiplier = useCallback((arryWithAmountOfItems) => {\n\t\tlet multiplier = 0;\n\n\t\tarryWithAmountOfItems.forEach((item) => {\n\t\t\tif (!item.multiplier) return;\n\n\t\t\t//check amount of items\n\t\t\tswitch (item.count.toString()) {\n\t\t\t\tcase \"0\":\n\t\t\t\t\treturn;\n\t\t\t\tcase \"1\":\n\t\t\t\t\tmultiplier += item.multiplier[0];\n\t\t\t\t\treturn;\n\t\t\t\tcase \"2\":\n\t\t\t\t\tmultiplier += item.multiplier[1];\n\t\t\t\t\treturn;\n\t\t\t\tcase \"3\":\n\t\t\t\t\tmultiplier += item.multiplier[2];\n\t\t\t\t\treturn;\n\t\t\t\tcase \"4\":\n\t\t\t\t\tmultiplier += item.multiplier[3];\n\t\t\t\t\treturn;\n\t\t\t\tdefault:\n\t\t\t\t\tmultiplier += item.multiplier[3];\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\t\treturn multiplier;\n\t}, []);\n\treturn {\n\t\tcalculateMultiplier,\n\t\tgetArryWithAmountOfItems,\n\t};\n};\n","import { useUpdateDocument } from \"../data/useUpdateDocument\";\nimport { useUserDataContext } from \"../data/useUserDataContext\";\n\nexport const useMoney = () => {\n\tconst { document } = useUserDataContext();\n\tconst { updateDocument } = useUpdateDocument();\n\tconst addMoney = async (value) => {\n\t\tawait updateDocument(\"users\", document.id, {\n\t\t\tbalance: (document.balance + value) * 1000,\n\t\t});\n\t};\n\tconst subtractMoney = async (value) => {\n\t\tawait updateDocument(\"users\", document.id, {\n\t\t\tbalance: (document.balance - value) * 1000,\n\t\t});\n\t};\n\n\treturn { addMoney, subtractMoney };\n};\n"],"names":["_path","_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgArrow","_ref","svgRef","title","titleId","props","xmlns","width","height","viewBox","ref","id","d","ForwardRef","mousedownEvent","mouseupEvent","mousemoveEvent","options","isCanvasEmpty","canvasRef","useRef","mouse","x","y","totalFilled","useEffect","current","removeEventListener","ctx","getContext","isTouching","rectLeft","getBoundingClientRect","left","rectTop","top","fillStyle","tilesColor","fillRect","scratch","globalCompositeOperation","beginPath","arc","Math","PI","fill","addEventListener","event","clientX","clientY","clearRect","init","style","border","position","borderRadius","Image","className","styles","padding","items","useState","gameItems","setGameItems","array","generateRandomArray","useCallback","randomArray","forEach","element","random","chances","push","useRandom","gameResult","useGame","dispatchGame","useCurrentGameContex","emptyCanvasNumber","canvas","blankCanvas","document","createElement","toDataURL","type","ACTIONS","payload","background","backGroundColor","borderColor","color","titleColor","map","item","image","showBar","setShowBar","onClick","right","multiplier","endGame","statistics","addMoney","useMoney","window","innerWidth","windowWidth","updateDocument","useUpdateDocument","useUserDataContext","updateUserStats","isWin","stats","totalPlayed","totalWon","useUpdateUserStats","round","bet","win","setIsAllowedToPlay","subtractMoney","getArryWithAmountOfItems","countArray","Set","name","itemToCheck","count","calculateMultiplier","arryWithAmountOfItems","toString","useCalculateMultiplier","price","startGame","amount","balance","arrayWithAmoutOfItems","value"],"sourceRoot":""}
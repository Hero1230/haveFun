{"version":3,"file":"static/js/331.3ebe2aeb.chunk.js","mappings":"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","sources":["hooks/games/useGame.js","hooks/games/useCalculateMultiplier.js","hooks/money/useMoney.js","webpack://have-fun/./src/pages/home/game-card/GameCard.module.scss?9ca4","pages/home/game-card/GameCard.js","webpack://have-fun/./src/pages/home/games-list/GamesCategoryList.module.scss?7885","pages/home/games-list/GamesList.js","pages/home/games/scratch-card/scratch-card-list/ScratchCardList.js"],"sourcesContent":["import { useCallback } from \"react\";\nimport { ACTIONS } from \"../../actions/game/Actions\";\nimport { useUserDataContext } from \"../data/useUserDataContext\";\nimport { useMoney } from \"../money/useMoney\";\nimport { useCalculateMultiplier } from \"./useCalculateMultiplier\";\nimport { useCurrentGameContex } from \"./useCurrentGameContex\";\n\nexport const useGame = () => {\n\tconst { setIsAllowedToPlay } = useUserDataContext();\n\tconst { document } = useUserDataContext();\n\tconst { subtractMoney } = useMoney();\n\tconst { calculateMultiplier, getObjectWithAmountOfItems } =\n\t\tuseCalculateMultiplier();\n\tconst { dispatchGame, price } = useCurrentGameContex();\n\n\tconst startGame = (amount) => {\n\t\tif (document.balance >= amount) {\n\t\t\tsubtractMoney(amount);\n\t\t\tsetIsAllowedToPlay(true);\n\t\t\tdispatchGame({\n\t\t\t\ttype: ACTIONS.SET_PRICE,\n\t\t\t\tpayload: {\n\t\t\t\t\tprice: amount,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t};\n\n\tconst endGame = useCallback(() => {\n\t\tsetIsAllowedToPlay(false);\n\t}, [setIsAllowedToPlay]);\n\n\tconst gameResult = useCallback(\n\t\t(items) => {\n\t\t\tconst objectWithAmoutOfItems = getObjectWithAmountOfItems(items);\n\t\t\tconst multiplier = calculateMultiplier(objectWithAmoutOfItems);\n\t\t\tdispatchGame({\n\t\t\t\ttype: ACTIONS.UPDATE_GAME,\n\t\t\t\tpayload: {\n\t\t\t\t\tprice,\n\t\t\t\t\tmultiplier,\n\t\t\t\t\twin: price * multiplier,\n\t\t\t\t\tgameItems: objectWithAmoutOfItems,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[getObjectWithAmountOfItems, calculateMultiplier, dispatchGame, price]\n\t);\n\treturn { startGame, endGame, gameResult };\n};\n","import { useCallback } from \"react\";\n\nexport const useCalculateMultiplier = () => {\n\tconst getCountedItems = (items) => {\n\t\tconst countedItems = {};\n\t\titems.forEach((item) => {\n\t\t\t// To avoid the worst symbol\n\t\t\tif (!item.multiplier) return;\n\n\t\t\tif (countedItems[item.name]) {\n\t\t\t\tif (countedItems[item.name].count === item.multiplier.length) return;\n\n\t\t\t\tcountedItems[item.name] = {\n\t\t\t\t\tcount: countedItems[item.name].count + 1,\n\t\t\t\t\tmultiplier: item.multiplier,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tcountedItems[item.name] = { count: 1, multiplier: item.multiplier };\n\t\t\t}\n\t\t});\n\t\treturn countedItems;\n\t};\n\n\tconst getObjectWithAmountOfItems = useCallback((items) => {\n\t\treturn getCountedItems(items);\n\t}, []);\n\n\t// getting total multiplier from game\n\tconst calculateMultiplier = useCallback((objectWithAmountOfItems) => {\n\t\tlet multiplier = 0;\n\n\t\tfor (const item in objectWithAmountOfItems) {\n\t\t\tif (\n\t\t\t\tobjectWithAmountOfItems[item].count > 0 &&\n\t\t\t\tobjectWithAmountOfItems[item].multiplier\n\t\t\t) {\n\t\t\t\tmultiplier +=\n\t\t\t\t\tobjectWithAmountOfItems[item].multiplier[\n\t\t\t\t\t\tobjectWithAmountOfItems[item].count - 1\n\t\t\t\t\t];\n\t\t\t}\n\t\t}\n\t\treturn multiplier;\n\t}, []);\n\treturn {\n\t\tcalculateMultiplier,\n\t\tgetObjectWithAmountOfItems,\n\t};\n};\n","import { useUpdateDocument } from \"../data/useUpdateDocument\";\nimport { useUserDataContext } from \"../data/useUserDataContext\";\n\nexport const useMoney = () => {\n\tconst { document } = useUserDataContext();\n\tconst { updateDocument } = useUpdateDocument();\n\tconst addMoney = async (value) => {\n\t\tawait updateDocument(\"users\", document.id, {\n\t\t\tbalance: (document.balance + value) * 1000,\n\t\t});\n\t};\n\tconst subtractMoney = async (value) => {\n\t\tawait updateDocument(\"users\", document.id, {\n\t\t\tbalance: (document.balance - value) * 1000,\n\t\t});\n\t};\n\n\treturn { addMoney, subtractMoney };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"game-card\":\"GameCard_game-card__8WVqq\",\"link\":\"GameCard_link__p5EN-\"};","import { Link } from \"react-router-dom\";\nimport { ACTIONS } from \"../../../actions/notification/Actions\";\nimport { useUserDataContext } from \"../../../hooks/data/useUserDataContext\";\nimport { useNotificationContext } from \"../../../hooks/notification/useNotificationContext\";\nimport styles from \"./GameCard.module.scss\";\n\nconst GameCard = ({ game, action }) => {\n\tconst { document } = useUserDataContext();\n\tconst { dispatchNotification } = useNotificationContext();\n\tconst balanceFallback = () => {\n\t\tdispatchNotification({\n\t\t\ttype: ACTIONS.ERROR,\n\t\t\tpayload: \"You don't have enough money to play this game!\",\n\t\t});\n\t};\n\treturn (\n\t\t<div\n\t\t\tclassName={styles[\"game-card\"]}\n\t\t\tonClick={\n\t\t\t\tgame.price && game.price > document.balance\n\t\t\t\t\t? balanceFallback\n\t\t\t\t\t: undefined\n\t\t\t}>\n\t\t\t{game.price <= document.balance || !game.price ? (\n\t\t\t\t<Link\n\t\t\t\t\tto={game.isReady ? game.ref : \"\"}\n\t\t\t\t\tclassName={styles[\"link\"]}\n\t\t\t\t\tonClick={action}></Link>\n\t\t\t) : (\n\t\t\t\t\"\"\n\t\t\t)}\n\t\t\t<img src={game.photoURL} alt=\"game icon\" />\n\t\t\t<p>{game.title}</p>\n\t\t</div>\n\t);\n};\n\nexport default GameCard;\n","// extracted by mini-css-extract-plugin\nexport default {\"games-list\":\"GamesCategoryList_games-list__YtwMj\",\"game-list\":\"GamesCategoryList_game-list__uYgeg\"};","import { useGame } from \"../../../hooks/games/useGame\";\nimport GameCard from \"../game-card/GameCard\";\n\nimport styles from \"./GamesCategoryList.module.scss\";\n\nconst GamesList = ({ games }) => {\n\tconst { startGame } = useGame();\n\n\treturn (\n\t\t<div className={styles[\"games-list\"]}>\n\t\t\t{games.map((game) => (\n\t\t\t\t<GameCard\n\t\t\t\t\tgame={game}\n\t\t\t\t\tkey={Math.random()}\n\t\t\t\t\taction={game.price && (() => startGame(game.price))}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\nexport default GamesList;\n","import DiamondIcon from \"../../../../../games-data/scratch-card/assets/game-one/diamond.svg\";\nimport CherryIcon from \"../../../../../games-data/scratch-card/assets/game-two/cherry.svg\";\nimport StratocasterIcon from \"../../../../../games-data/scratch-card/assets/game-three/stratocaster.svg\";\nimport GamesList from \"../../../games-list/GamesList\";\n\nconst ScratchCardList = () => {\n\tconst scratchGames = [\n\t\t{\n\t\t\ttitle: \"Scratch card 20$\",\n\t\t\tphotoURL: DiamondIcon,\n\t\t\tref: \"/scratch-card-20\",\n\t\t\tisReady: true,\n\t\t\tprice: 20,\n\t\t},\n\t\t{\n\t\t\ttitle: \"Scratch card 50$\",\n\t\t\tphotoURL: CherryIcon,\n\t\t\tref: \"/scratch-card-50\",\n\t\t\tisReady: true,\n\t\t\tprice: 50,\n\t\t},\n\t\t{\n\t\t\ttitle: \"Scratch card 100$\",\n\t\t\tphotoURL: StratocasterIcon,\n\t\t\tref: \"/scratch-card-100\",\n\t\t\tisReady: true,\n\t\t\tprice: 100,\n\t\t},\n\t];\n\treturn <GamesList games={scratchGames} />;\n};\n\nexport default ScratchCardList;\n"],"names":["useGame","setIsAllowedToPlay","useUserDataContext","document","subtractMoney","useMoney","getObjectWithAmountOfItems","useCallback","items","countedItems","forEach","item","multiplier","name","count","length","getCountedItems","calculateMultiplier","objectWithAmountOfItems","useCalculateMultiplier","useCurrentGameContex","dispatchGame","price","startGame","amount","balance","type","ACTIONS","payload","endGame","gameResult","objectWithAmoutOfItems","win","gameItems","updateDocument","useUpdateDocument","addMoney","value","id","game","action","dispatchNotification","useNotificationContext","className","styles","onClick","undefined","to","isReady","ref","src","photoURL","alt","title","games","map","Math","random","scratchGames","DiamondIcon","CherryIcon","StratocasterIcon"],"sourceRoot":""}